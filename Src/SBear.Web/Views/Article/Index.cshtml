@using SBear.Web.ViewComponents.Home;
@{
    ViewData["Title"] = "Home Page";
    var article = ViewBag.Article;
}
@section Css{
    <link href="~/lib/editor.md/css/editormd.preview.css" rel="stylesheet" />
    <link href="~/css/articlelook.css" rel="stylesheet" />
}
<div class="row">
    <div class="col-md-12">
        @await Component.InvokeAsync("HomeCard", new CardViewModel { CardAciotnType = CardAciotnTypeEnum.AtricleEdit, ArticleIdentityId = article.Id })
        <div>
            @* <div class="article-header">
                            <h1 class="article-title">@article.Title</h1>
                            <div class="meta">
                               <span id="mute-category" class="muted"><i class="fa fa-list-alt"></i><a href="http://cuiqingcai.com/category/technique/python"> Python</a></span>
                <span class="muted"><i class="fa fa-user"></i> <a href="http://cuiqingcai.com/author/aiyo">哎哟卧槽</a></span>
                                <time class="muted"><i class="fa fa-clock-o"></i> @article.CreateDate</time>
                                <span class="muted"><i class="fa fa-eye"></i> @article.Views</span>
                               <span class="muted"><i class="fa fa-comments-o"></i> <a href="http://cuiqingcai.com/4886.html#respond">0评论</a></span>
                            </div>
                        </div>*@
            <div id="editormdview">
                <textarea id="append-test" style="display:none;">@article.MarkDownContent.ToString()</textarea>
            </div>
        </div>
    </div>
</div>
@section Script{
    <script src="~/lib/editor.md/lib/marked.min.js"></script>
    <script src="~/lib/editor.md/lib/prettify.min.js"></script>
    <script src="~/lib/editor.md/lib/raphael.min.js"></script>
    <script src="~/lib/editor.md/lib/underscore.min.js"></script>
    <script src="~/lib/editor.md/lib/sequence-diagram.min.js"></script>
    <script src="~/lib/editor.md/lib/flowchart.min.js"></script>
    <script src="~/lib/editor.md/lib/jquery.flowchart.min.js"></script>
    <script src="~/lib/editor.md/editormd.js"></script>
    <script>
        $(function () {
            var wordsView = editormd.markdownToHTML("editormdview",
                {
                    htmlDecode: "style,script,iframe",  // you can filter tags decode
                    emoji: true,
                    taskList: true,
                    tex: true,  // 默认不解析
                    flowChart: true,  // 默认不解析
                    sequenceDiagram: true,  // 默认不解析
                });
        });
    </script>
}
