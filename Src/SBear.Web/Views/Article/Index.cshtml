@using SBear.Web.ViewComponents.Home;
@{
    ViewData["Title"] = "Home Page";
    var article = ViewBag.Article;
}
@section Css{
    <link href="~/lib/editor.md/css/editormd.preview.css" rel="stylesheet" />
}
<div class="row">
    <div class="col-md-12">
        @await Component.InvokeAsync("HomeCard", new CardViewModel { CardAciotnType = CardAciotnTypeEnum.AtricleEdit, ArticleIdentityId = article.Id })
        <div id="test-editormd-view2">
            <textarea id="append-test" style="display:none;">@article.MarkDownContent.ToString()</textarea>
        </div>
    </div>
</div>
@section Script{
    <script src="~/lib/editor.md/lib/marked.min.js"></script>
    <script src="~/lib/editor.md/lib/prettify.min.js"></script>
    <script src="~/lib/editor.md/lib/raphael.min.js"></script>
    <script src="~/lib/editor.md/lib/underscore.min.js"></script>
    <script src="~/lib/editor.md/lib/sequence-diagram.min.js"></script>
    <script src="~/lib/editor.md/lib/flowchart.min.js"></script>
    <script src="~/lib/editor.md/lib/jquery.flowchart.min.js"></script>
    <script src="~/lib/editor.md/editormd.js"></script>
    <script>
        $(function () {
            var wordsView = editormd.markdownToHTML("test-editormd-view2",
                {
                    htmlDecode: "style,script,iframe",  // you can filter tags decode
                    emoji: true,
                    taskList: true,
                    tex: true,  // 默认不解析
                    flowChart: true,  // 默认不解析
                    sequenceDiagram: true,  // 默认不解析
                });
        });
    </script>
}
